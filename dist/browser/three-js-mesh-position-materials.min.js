!(function(e, i) {
"object" == typeof exports && "undefined" != typeof module
? (module.exports = i(require("three-full"), require("three-js-rgba-packing")))
: "function" == typeof define && define.amd
? define(["three-full", "three-js-rgba-packing"], i)
: (e.THREEMeshPositionMaterial = i(e.THREE, e.THREERGBAPacking));
})(this, function(e, i) {
"use strict";
function t(i) {
((i = i || {}).uniforms = e.UniformsUtils.merge([e.ShaderLib.displacementmap])),
(i.vertexShader = [
"#include <common>",
"#include <displacementmap_pars_vertex>",
"#include <fog_pars_vertex>",
"#include <morphtarget_pars_vertex>",
"#include <skinning_pars_vertex>",
"#include <shadowmap_pars_vertex>",
"#include <logdepthbuf_pars_vertex>",
"#include <clipping_planes_pars_vertex>",
"varying vec3 vWorldPosition;",
"void main() {",
"#include <skinbase_vertex>",
"#include <begin_vertex>",
"#include <morphtarget_vertex>",
"#include <skinning_vertex>",
"#include <displacementmap_vertex>",
"#include <project_vertex>",
"#include <logdepthbuf_vertex>",
"#include <clipping_planes_vertex>",
"vec4 vWorldPosition = modelMatrix * vec4( transformed, 1.0 );",
"}"
].join("\n")),
(i.fragmentShader = [
"varying vec3 vWorldPosition;",
"void main() {",
"gl_FragColor = vWorldPosition;",
"}"
].join("\n")),
(this.displacementMap = null),
(this.displacementScale = 1),
(this.displacementBias = 0),
(this.wireframe = !1),
(this.wireframeLinewidth = 1),
(this.fog = !1),
(this.lights = !1),
(this.skinning = !1),
(this.morphTargets = !1),
e.ShaderMaterial.call(this, i);
}
(e = e && e.hasOwnProperty("default") ? e.default : e),
(i = i && i.hasOwnProperty("default") ? i.default : i),
(t.prototype = Object.create(e.ShaderMaterial.prototype)),
(t.prototype.constructor = t),
(e.MeshWorldPositionMaterial = t);
var r = t;
function n(t) {
((t = t || {}).uniforms = e.UniformsUtils.merge([e.ShaderLib.displacementmap])),
(t.vertexShader = [
"#include <common>",
"#include <displacementmap_pars_vertex>",
"#include <fog_pars_vertex>",
"#include <morphtarget_pars_vertex>",
"#include <skinning_pars_vertex>",
"#include <shadowmap_pars_vertex>",
"#include <logdepthbuf_pars_vertex>",
"#include <clipping_planes_pars_vertex>",
"varying vec3 vViewPosition;",
"void main() {",
"#include <skinbase_vertex>",
"#include <begin_vertex>",
"#include <morphtarget_vertex>",
"#include <skinning_vertex>",
"#include <displacementmap_vertex>",
"#include <project_vertex>",
"#include <logdepthbuf_vertex>",
"#include <clipping_planes_vertex>",
"vViewPosition = gl_Position",
"}"
].join("\n")),
(t.fragmentShader = [
"varying vec3 vWorldPosition;",
t.useFloatTexture ? "" : i.glslEncodeUnitFloat32,
"void main() {",
t.useFloatTexture
? "gl_FragColor = vViewPosition;"
: "gl_FragColor = encodeUnitFloat32(vWorldPosition." + t.coordinate + ");",
"}"
].join("\n")),
(this.displacementMap = null),
(this.displacementScale = 1),
(this.displacementBias = 0),
(this.wireframe = !1),
(this.wireframeLinewidth = 1),
(this.fog = !1),
(this.lights = !1),
(this.skinning = !1),
(this.morphTargets = !1),
e.ShaderMaterial.call(this, t);
}
(n.prototype = Object.create(e.ShaderMaterial.prototype)),
(n.prototype.constructor = n),
(e.MeshViewPositionMaterial = n);
var a = n;
return (
(e.MeshPositionMaterials = {
MeshWorldPositionMaterial: r,
MeshViewPositionMaterial: a
}),
a
);
});
